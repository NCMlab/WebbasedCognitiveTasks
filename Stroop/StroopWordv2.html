
<!DOCTYPE html>
<html>
  <head>

    <meta charset="UTF-8">
    <meta name="description" content="jsPsych Cognitive task">
    <meta name="keywords" content="HTML, CSS, JavaScript">
    <meta name="author" content="Jason Steffener, NCMLab">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NCM Lab: Stroop</title>
    <script src="../jspsych-6.2.0/jspsych.js"></script>
    <script src="../jspsych-6.2.0/plugins/jspsych-html-keyboard-response.js"></script>
    <script src="../jspsych-6.2.0/plugins/jspsych-image-keyboard-response.js"></script>
    <link href="../jspsych-6.2.0/css/jspsych.css" rel="stylesheet" type="text/css">
    <style>
  		.stimulus { font-size: 60px; }
  	</style>
  </head>
  <body></body>
  <script>


	  var trials = {
	    timeline_variables: stimuli,
	    randomize_order: true,
	    timeline: [
	      {
	        type: 'html-keyboard-response',
	        // Note, that the font size for the stimuli is set above in the style
	        stimulus: '<p class="stimulus">+</p>',
	        choices: jsPsych.NO_KEYS,
	        trial_duration: 500,
	        post_trial_gap: 0
	      },
	      {
	        type: 'html-keyboard-response',
	        stimulus: function(){ return "<p class='stimulus'>"+jsPsych.timelineVariable('word', true)+"</p>"; },
	        choices: ['y','n'],
	        post_trial_gap: 0,
	        data: {
	          word_validity: jsPsych.timelineVariable('word_validity'),
	          word_frequency: jsPsych.timelineVariable('word_frequency')
	        },
	        on_finish: function(data){
	          if(data.word_validity == 'valid'){
	            var correct = data.key_press == jsPsych.pluginAPI.convertKeyCharacterToKeyCode('y');
	          } else {
	            var correct = data.key_press == jsPsych.pluginAPI.convertKeyCharacterToKeyCode('n');
	          }
	          data.correct = correct;
	        }
	      }
	    ]
	  }
	  timeline.push(trials);

  </script>

</html>